
{% load static %}
<script>
    var page = window.location.pathname.split("/").pop().split(".")[0];
var aux = window.location.pathname.split("/");
var to_build = (aux.includes('dashbord') || aux.includes('docs') ?'../':'./');
var root = window.location.pathname.split("/")
if (!aux.includes("dashbord")) {
  page = "dashboard";
}

loadStylesheet("{% static 'css/perfect-scrollbar.css' %}");
loadJS("{% static 'js/perfect-scrollbar.js' %}", true);

if (document.querySelector("nav [navbar-trigger]")) {
  loadJS("{% static 'js/navbar-collapse.js' %}", true);
}

if (document.querySelector("[data-target='tooltip']")) {
  loadJS("{% static 'js/tooltips.js' %}", true);
  loadStylesheet( "{% static 'css/tooltips.css' %}");
}

if (document.querySelector("[nav-pills]")) {
  loadJS( "{% static 'js/nav-pills.js' %}", true);
}

if (document.querySelector("[dropdown-trigger]")) {
  loadJS("{% static 'js/dropdown.js' %}", true);

}

if (document.querySelector("[navbar-main]") || document.querySelector("[navbar-profile]")) {
  if(document.querySelector("[navbar-main]")){
    loadJS( "{% static 'js/navbar-sticky.js' %}", true);
  }
  if (document.querySelector("aside")) {
    loadJS("{% static 'js/sidenav-burger.js' %}", true);
  }
}

function loadJS(FILE_URL, async) {
  let dynamicScript = document.createElement("script");

  dynamicScript.setAttribute("src", FILE_URL);
  dynamicScript.setAttribute("type", "text/javascript");
  dynamicScript.setAttribute("async", async);

  document.head.appendChild(dynamicScript);
}

function loadStylesheet(FILE_URL) {
  let dynamicStylesheet = document.createElement("link");

  dynamicStylesheet.setAttribute("href", FILE_URL);
  dynamicStylesheet.setAttribute("type", "text/css");
  dynamicStylesheet.setAttribute("rel", "stylesheet");

  document.head.appendChild(dynamicStylesheet);
}
</script>
